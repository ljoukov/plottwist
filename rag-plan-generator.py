import os
import google.generativeai as genai

genai.configure(api_key=os.environ["GEMINI_API_KEY"])

# Create the model
generation_config = {
  "temperature": 1,
  "top_p": 0.95,
  "top_k": 64,
  "max_output_tokens": 65536,
  "response_mime_type": "text/plain",
}

model = genai.GenerativeModel(
  model_name="gemini-2.5-pro-preview-03-25",
  generation_config=generation_config,
)

chat_session = model.start_chat(
  history=[
    {
      "role": "user",
      "parts": [
        "I am a technical founder of  AI company which is using AI to create and evaluate quizes for college students in France.\nI need to learn the most important things from EU AI Act  I need to know and likely act on.\nPlease produce a transcript for viral TikTok video with the hook (select best suitable hook from the list) explain this to me.\nMake it very personal to the targeted user, here is his description: \"I live in Paris, I studied physics and then data science at the Sorbonne, I like eating escargots and frog legs, I eat lots of baguettes and fromage and I drink red wine. I love mathematics and Paris music festivals.\"\n\nHere are the main points from EU AI Act:\n<DOCUMENT>\nAs the technical founder of an AI quiz platform for French universities, here are critical but less obvious considerations under the EU AI Act that demand immediate attention:\n\n1. Hidden Documentation Burdens\nAnnex IV Compliance: Your system requires technical documentation proving compliance with 11 specific categories in Annex IV, including:\n\nDetailed system architecture diagrams showing decision-making logic\n\nFull audit trails of training data provenance\n\nValidation results demonstrating 99%+ accuracy thresholds for high-stakes assessments\n\nDynamic Updating: Documentation must auto-update with model changes – implement version-controlled CI/CD pipelines linking code changes to compliance records\n\n2. Granular Data Governance Requirements\nDataset Fingerprinting: You must cryptographically hash all training/validation data and maintain immutable records of:\n\nStudent demographic distribution (age, gender, nationality)\n\nSource verification for third-party data\n\nError rate tracking per question type/subject\n\nBias Mitigation Logs: Implement real-time monitoring showing:\n\nPerformance disparities across student subgroups\n\nDrift detection thresholds for fairness metrics\n\nCorrection logs for identified biases\n\n3. Human Oversight Mechanics\nTraceable Override System: Build:\n\nTeacher modification tracking with cryptographic non-repudiation\n\nDifferential analysis showing AI vs human grading patterns\n\nAlert thresholds for frequent overrides indicating model issues\n\nExplainability Interfaces: Develop instructor dashboards showing:\n\nConfidence intervals per question scoring\n\nAlternative answer pathways considered\n\nKey features influencing scoring decisions\n\n4. Third-Party Model Risks\nLLM Supply Chain Compliance: If using foundation models (e.g., GPT-4 for question generation):\n\nObtain full training data transparency reports from providers\n\nImplement model card validation checks\n\nMaintain fallback procedures for blacklisted models\n\nVendor Contract Traps: Review agreements for:\n\nIndemnification clauses for regulatory penalties\n\nData sovereignty requirements\n\nMandatory update obligations\n\n5. Operational Surprises\nOn-Demand Inspection Readiness: French authorities can demand:\n\nLive system access for real-time monitoring\n\nUnfiltered API endpoints for audit testing\n\nRaw error logs without preprocessing\n\nIncident Response Protocol: Required within 72 hours of detecting:\n\nScoring discrepancies affecting >5% of students\n\nUnauthorized data access events\n\nModel drift exceeding 2% accuracy loss\n\nImmediate Action Items\n\nImplement dataset watermarking using tools like TrueOrigin\n\nBuild scoring explainability features using LIME/SHAP integrations\n\nInitiate conformity assessment with notified bodies like TÜV SÜD\n\nCreate AI Use Registry tracking all model versions/question types\n\nPenalties for non-compliance could reach €35M+, making these technical requirements business-critical rather than optional checkboxes.\n</DOCUMENT>\n\n<HOOKS>\n1.  6 STEPS TO [GETTING ANYONE TO BUY ANYTHING FROM YOU]\n2.  First day as a [housekeeper]... I wasn't ready for THIS\n3.  [US] citizens:\n4.  oh so NOW you're learning [mandarin]\n5.  Bro is living in 2050 [* 700 pages in 10 minutes !?]\n6.  Day 247 of trying to get [Joe Jonas to stop copying my BeReals...]\n7.  can someone tell me [what i'm supposed to do in this situation]\n8.  Who needs an [elevator boy] when you can have an [elevator pengu]\n9.  Damm i've been [running] wrong my whole life\n10. 5 TIPS to [travel low cost]\n11. Best AI Tools [For Students]\n12. Coolest [wedding] idea ever!\n13. This will change your life!\n14. [COSTCO PRICING] SECRETS\n15. [ISHOWSPEED] TRIES [DEADLIFTING]\n16. [Morning] routine to [build good habits]\n17. is your [relationship]?\n18. Your daily reminder that you [deserve better than your ex]\n19. got a [headache/migraine]? try this.\n20. Me [showing up to school] like I didn't [just get an hour of sleep the night before]\n21. Did you know [dog toys can collect bacteria, yeast, mold & dirt? ]\n22. Do you really still [edit your stories like this?]\n23. I wasted so much time [editing stories like this]\n24. Another [laptop life hack] I guarantee you\n25. Secrets your [teachers] don't want you to know\n26. 10 years of using a [male owned period app] and just found this...\n27. STOP [DRAGONS AREN'T REAL]\n28. Crazy fact of the day: [Tea is made with the water infusion of leaves]\n29. 5 questions you should ask [your boyfriend]\n30. [dyson] is terrible\n31. How did I not know about this\n32. life without [snap] >>>\n33. want to [get hired] before [the summer]? This is what you have to do:\n34. I'm never using [google scholar for literature review] again after this\n35. best websites/ai for [research]\n36. I was struggling to find [research papers]\n37. All these [people] and none of them know about this\n38. [polls] that are guaranteed to make you [laugh]\n39. I don't think [colour analysis] makes any difference\n</HOOKS>",
      ],
    },
    {
      "role": "model",
      "parts": [
        "Here's a thinking process that could lead to the TikTok script:\n\n1.  **Understand the Goal:** The user is a technical founder of an AI quiz platform for French college students. They need a TikTok script explaining the *most important, actionable* points from the EU AI Act *specifically for them*. The script needs a viral hook, should be personalized to the founder's background (Paris, Sorbonne, physics/DS, foodie, math/music lover), and be based on the provided document.\n\n2.  **Analyze the Target User:**\n    *   **Technical:** Understands AI, data science, possibly system architecture, CI/CD. Can handle technical jargon but needs it contextualized.\n    *   **French/Parisian:** Use French phrases, references to Paris life (Sorbonne, festivals, food). This builds rapport.\n    *   **Founder:** Busy, needs concise, actionable information. Concerned about business impact (fines, operational burden).\n    *   **Academic Background (Physics/DS):** Appreciates logic, precision, data. Frame compliance as a structured problem.\n    *   **Interests (Food, Music):** Can be used for relatable analogies or lighthearted comments.\n\n3.  **Analyze the Input Document (EU AI Act Points):**\n    *   **Key Themes:** Documentation (heavy!), Data Governance (granular, bias), Human Oversight (traceable, explainable), Third-Party Risk (LLMs), Operational Readiness (inspections, incidents).\n    *   **Actionability:** The document already highlights immediate actions (watermarking, explainability, assessment, registry). This is gold.\n    *   **Severity:** Penalties (€35M+) are a major motivator.\n    *   **Complexity:** The details (Annex IV, crypto hashing, specific thresholds) are complex. Need to simplify for TikTok but retain the *essence* of the requirement.\n\n4.  **Select the Best Hook:** Review the list with the target user and content in mind.\n    *   Needs to grab attention quickly.\n    *   Relatable to a founder/tech person.\n    *   Can transition into the serious topic of the AI Act.\n    *   Let's evaluate some candidates:\n        *   #1 (Buying): Irrelevant.\n        *   #2 (Housekeeper): Too specific, unrelated.\n        *   #5 (Bro living in 2050): Could work if framed as \"AI Act is making us live in the future of compliance\", but maybe a bit weak.\n        *   #7 (what i'm supposed to do): YES. This directly reflects the founder's need (\"What do *I* need to do?\"). It's relatable, slightly anxious, fits the situation.\n        *   #9 (running wrong): Could work metaphorically (\"building AI wrong\"), but less direct than #7.\n        *   #11 (Best AI Tools): Too generic.\n        *   #25 (Secrets teachers don't want you to know): Could be adapted (\"Secrets the EU doesn't *want* you to stress about... but you should\"), but maybe a bit clickbaity/less professional.\n        *   #31 (How did I not know about this): Good, similar feel to #7.\n        *   #34/35/36 (Research/Scholar): Too academic niche.\n        *   #37 (All these people...): Good for broad topics, maybe less personal.\n\n    *   **Decision:** Hook #7: \"can someone tell me [what i'm supposed to do in this situation]\" feels the most authentic and directly addresses the user's need for guidance regarding the AI Act. It sets a tone of slight overwhelm, which is realistic.\n\n5.  **Structure the TikTok Script:**\n    *   **Hook (Visual + Audio):** Start strong with the chosen hook. Show the user persona (maybe looking stressed at a laptop).\n    *   **Introduction/Personalization:** Immediately address the founder. Use French phrases, mention Sorbonne, Paris, maybe a quick food/math nod. Establish context: \"You built this cool AI quiz tool...\"\n    *   **The Problem:** Introduce the EU AI Act as the \"situation\" from the hook. Emphasize it's *not* just abstract rules, but specific, technical demands *for them*.\n    *   **Key Points (Simplified & Actionable):** Go through the main themes from the document, translating them into concrete actions for *this* founder.\n        *   **Documentation:** \"Forget simple READMEs. Think *math-proof* level docs.\" Mention Annex IV, dynamic updates.\n        *   **Data:** \"Your Sorbonne data science brain needs to work overtime.\" Mention hashing, bias tracking (connect to fairness, maybe a social good angle relevant to education).\n        *   **Human Oversight:** \"It's not just AI magic. Teachers need *control* and *understanding*.\" Mention traceable overrides, explainability (LIME/SHAP are good specifics if the audience might know them, otherwise keep it high-level: \"why did it grade like *that*?\").\n        *   **Third-Party Risk:** \"Using GPT-4? Their compliance is *your* problem too.\" Mention supply chain checks.\n        *   **Readiness:** \"Imagine auditors knocking... *demain*.\" Mention live access, fast incident response.\n    *   **Call to Action/Urgency:** Reiterate the seriousness (fines!). List 2-3 *immediate* first steps (like the ones in the doc: conformity assessment, registry, explainability).\n    *   **Outro:** Short, punchy, maybe a relatable sign-off (\"Bon courage!\").\n\n6.  **Draft the Script - First Pass (incorporating persona & key points):**\n    *   *(Visual: Founder looking stressed at laptop in a Parisian cafe setting?)*\n    *   **Audio (Hook):** \"Ugh, can someone *please* tell me what I'm supposed to do in this situation?!\"\n    *   **(Text Overlay: Building an AI startup in France got REAL)**\n    *   **Voiceover:** \"Okay, écoute. You, the technical founder, Sorbonne grad, right? Physics, Data Science... loves a good *formule mathématique* almost as much as *escargots*.\"\n    *   \"You built that awesome AI quiz platform for universities here in France. Super smart.\"\n    *   \"But this EU AI Act? *Merde*. It's not just high-level ethics talk. It's hitting *your* code, *your* data, *right now*.\"\n    *   \"Forget those chill coding nights fueled by *vin rouge* and *fromage*. This is serious.\"\n    *   **Point 1 (Docs):** \"First: Your documentation. It needs to be *insane*. Think detailed architecture, audit trails for *every single piece* of training data, proof of accuracy. And it has to update *automatically* when you change your model. Like, *vraiment* detailed.\"\n    *   **(Text Overlay: Annex IV = Your New BFF? 😭)**\n    *   **Point 2 (Data):** \"Second: Your data. Remember all that Sorbonne stats? You need cryptographic proof of where data came from, track *everything* about student demographics, and constantly monitor for bias. Like, real-time dashboards showing fairness.\"\n    *   **(Text Overlay: No Bias Allowed! 🇫🇷🇪🇺)**\n    *   **Point 3 (Humans):** \"Third: Human oversight. Teachers need to see *why* the AI scored something and be able to override it. And you need to track *every* override. No black boxes allowed.\"\n    *   **(Text Overlay: Explainable AI is NON-NÉGOCIABLE)**\n    *   **Point 4 (LLMs):** \"Using a big model like GPT-4? You need proof *they* are compliant too. It's your neck on the line.\"\n    *   **(Text Overlay: Check Your LLM Supplier! 🧐)**\n    *   **Point 5 (Ops):** \"And get ready: Auditors can demand *live access* to your system. *Any time*. And if something goes wrong, you have 72 hours to report it.\"\n    *   **(Text Overlay: Inspection Ready? 🚨 72h Incident Clock!)**\n    *   \"Look, I know you'd rather be at We Love Green or Rock en Seine, but ignoring this? Fines up to €35 MILLION.\"\n    *   \"So, *maintenant*: 1. Start that conformity assessment process. 2. Build *real* explainability into your scoring. 3. Create an internal registry of *all* your AI models.\"\n    *   \"It's a lot, *je sais*. But you're smart, you built this thing. You can handle this. *Bon courage!*\"\n    *   **(End screen: Link to more resources? Company logo?)**\n\n7.  **Refine and Polish:**\n    *   **Pacing:** Ensure it fits TikTok's fast pace. Use quick cuts, dynamic text overlays.\n    *   **Language:** Mix English and French naturally. Ensure French terms are common/understandable. *Écoute*, *Merde*, *Formule mathématique*, *Vraiment*, *Non-négociable*, *Maintenant*, *Je sais*, *Bon courage*. Keep technical terms concise.\n    *   **Visuals:** Suggest relevant B-roll (code, dashboards, Sorbonne shot, maybe quick flashes of escargots/wine for contrast/persona).\n    *   **Tone:** Keep it urgent but slightly empathetic/relatable (\"I know you'd rather be...\"). Avoid being overly dry or preachy.\n    *   **Clarity:** Make sure the *action* required for each point is clear.\n    *   **Hook Integration:** Ensure the video clearly answers the \"what am I supposed to do?\" question posed by the hook.\n\n8.  **Final Check:** Does it meet all the user's requirements? Is it personalized? Does it cover the key AI Act points accurately (but simply)? Is the hook effective? Does it have a clear call to action? Yes.",
        "Okay, let's craft that TikTok script! This needs to be punchy, relatable to our Parisian founder, and directly translate those dense AI Act points into \"what you MUST do NOW\".\n\n**Chosen Hook:** #7: \"can someone tell me [what i'm supposed to do in this situation]\" - This perfectly captures the potential overwhelm and need for guidance a founder faces with new regulations.\n\n**Target Persona Reminders:**\n*   Parisian, Sorbonne (Physics/Data Science)\n*   Loves: Escargots, frog legs, baguettes, fromage, red wine, math, Paris music festivals.\n*   Role: Technical Founder, AI Quiz Platform for French Unis.\n\n---\n\n**TikTok Video Transcript**\n\n**(Video Opens - Visual: Founder (you!) looking slightly stressed, maybe sipping coffee or wine in a Parisian-style cafe setting, laptop open showing code or a complex diagram. Upbeat but slightly anxious trending sound playing low.)**\n\n**(Text Overlay - HOOK):** Ugh, can someone *please* tell me what I'm supposed to do in this situation?! 🤯🇪🇺\n\n**(Voiceover - Energetic, friendly, slightly conspiratorial tone):**\n\"Okay, *écoute*... you! Technical founder, genius from La Sorbonne, right? Mastered physics, crushed data science... probably love a complex *formule mathématique* almost as much as a perfect baguette avec du fromage.\"\n\n**(Visual: Quick flash cut to a picture of Sorbonne University, then maybe a stylized graphic of an AI brain.)**\n\n\"You built that *incroyable* AI quiz platform for French students. C'est super!\"\n\n**(Visual: Transition back to founder looking at laptop, maybe rubbing temples.)**\n\n\"But this 'situation'? It's the EU AI Act. And *merde*, it's not just some vague policy doc you can ignore while planning your next trip to Rock en Seine.\"\n\n**(Text Overlay):** EU AI Act is NOT messing around. 😱\n\n\"This hits *your* code, *your* data, *your* algorithms. Forget chill coding sessions fueled by *vin rouge* – this needs your full attention, *maintenant*!\"\n\n**(Visual: Quick cuts showcasing the following points - maybe use icons or short animated graphics)**\n\n\"**Point 1: Documentation Gone Wild!**\"\n**(Voiceover):** \"Think your READMEs are good? *Non*. You need *insane* technical docs. We're talking detailed architecture, proof of where *every single piece* of training data came from, validation showing high accuracy... And it needs to auto-update! Like, *vraiment* Annex IV level.\"\n**(Text Overlay):** Annex IV = Your New Math Problem 😅\n\n\"**Point 2: Data Governance on Steroids!**\"\n**(Voiceover):** \"Your data science brain? Put it to work! You need to cryptographically 'fingerprint' datasets, track student demographics meticulously, prove you're monitoring for bias in real-time, and LOG every correction.\"\n**(Text Overlay):** Track Bias Like You Track Festival Lineups! 📊🎶\n\n\"**Point 3: Humans MUST Be in the Loop!**\"\n**(Voiceover):** \"Your AI can't be a black box. Teachers need to see *why* it scored something, be able to override it, and you need *irrefutable proof* tracking every single modification. Think explainability dashboards.\"\n**(Text Overlay):** Explainable AI = Non-Négociable! ✅\n\n\"**Point 4: Using GPT-4 or Others? Their Problem is YOUR Problem!**\"\n**(Voiceover):** \"Using a foundation model for generating questions? You need *their* compliance docs. Check those vendor contracts like you check the wine list for hidden traps!\"\n**(Text Overlay):** LLM Supply Chain Check! 🔗📜\n\n\"**Point 5: Surprise Inspections & Fast Fixes!**\"\n**(Voiceover):** \"French authorities could demand *live access* to your system for audits – *any time*. And if there's a major screw-up (like a scoring error), you have only 72 hours to report it formally.\"\n**(Text Overlay):** 🚨 72h Incident Clock! Be Ready!\n\n**(Visual: Back to the founder, looking determined now, maybe typing rapidly.)**\n\n\"Look, I know you'd rather be debating the best *escargots* in Paris or headbanging at a festival. But ignoring this? Penalties are up to **€35 MILLION**.\"\n\n**(Text Overlay):** €35 MILLION Reasons to Act NOW! 💰🔥\n\n\"**So, what ARE you supposed to do? *Maintenant*:**\"\n\n**(Visual: Simple checklist appears on screen)**\n\n1.  **Start Conformity Assessment:** Get a notified body involved (like TÜV SÜD). Seriously.\n2.  **Build Explainability:** Integrate tools like LIME/SHAP so scoring isn't magic.\n3.  **Create Your AI Registry:** Track every model, version, and use case internally.\n\n**(Voiceover):** \"It's a lot, *je sais*. But hey, you understand complex physics, you can handle this regulation. Build it into your system like you'd build any core feature.\"\n\n**(Visual: Founder gives a confident nod or a small smile. Maybe ends with a quick shot of the Eiffel Tower or a cheers with a glass of wine.)**\n\n**(Text Overlay):** You got this, *mon ami*! #EUAIAct #AIstartup #TechFounder #ParisTech #DataScience #Compliance #AIregulation #FranceAI\n\n**(Voiceover):** \"*Bon courage!*\"\n\n**(Sound ends)**\n\n---\n**Why this works:**\n\n*   **Hook:** Directly addresses the founder's likely feeling of uncertainty.\n*   **Personalization:** Uses French phrases, references Sorbonne, Paris life, food, math, festivals – making it feel specifically tailored.\n*   **Clear Problem:** Identifies the AI Act as the \"situation\".\n*   **Actionable Breakdown:** Translates complex points into concrete technical tasks.\n*   **Relatability:** Acknowledges the founder's other interests and the burden of compliance.\n*   **Urgency:** Highlights the massive potential fines.\n*   **Clear Next Steps:** Provides immediate, actionable starting points.\n*   **TikTok Format:** Uses short, punchy segments, text overlays, and suggests relevant visuals for engagement.",
      ],
    },
    {
      "role": "user",
      "parts": [
        "I want to render the video as a cartoon, think of Luca from Pixar type cartoon (except it'll all be in France of course).\nPlease produce image prompts for the key scenes, expect 5-8 seconds between scenes.\nFor each scene describe characters, but do NOT describe details of the style (the model already knows that), so describe what's in each image, colors, etc.",
      ],
    },
    {
      "role": "model",
      "parts": [
        "Here's a thinking process for generating those image prompts based on the TikTok script:\n\n1.  **Understand the Goal:** The user wants image prompts for a cartoon-style video (Luca-esque, but French setting) based on the provided TikTok script. The prompts should describe *content* (characters, setting, action, mood, colors) but *not* the art style itself. Each scene represents roughly 5-8 seconds of video.\n\n2.  **Break Down the Script into Key Visual Moments:** Read through the transcript and identify the core visual shifts and key messages that need illustration.\n\n    *   **Scene 1 (Hook):** Stressed founder, Parisian cafe, laptop. (Hook text overlay)\n    *   **Scene 2 (Intro):** Founder acknowledged, Sorbonne mention, AI brain graphic. (Relatability)\n    *   **Scene 3 (Problem Intro):** Founder looking at laptop again, mentioning AI Act. (Problem statement)\n    *   **Scene 4 (Point 1 - Docs):** Abstract/symbolic representation of overwhelming documentation. (Key point 1)\n    *   **Scene 5 (Point 2 - Data Gov):** Visualizing data tracking and bias monitoring. (Key point 2)\n    *   **Scene 6 (Point 3 - Human Oversight):** Showing teacher interaction/explainability. (Key point 3)\n    *   **Scene 7 (Point 4 - 3rd Party):** Visualizing supply chain/contract risk. (Key point 4)\n    *   **Scene 8 (Point 5 - Inspections/Incident):** Depicting surprise audit/alarm clock. (Key point 5)\n    *   **Scene 9 (Consequences):** Emphasizing the large fine amount. (Urgency)\n    *   **Scene 10 (Action Steps):** Checklist or visual representation of the \"what to do\". (Solution)\n    *   **Scene 11 (Encouragement/Closing):** Confident founder, iconic Paris view. (Resolution/End)\n\n3.  **Refine Scene Selection (Aim for 5-8 Scenes):** The initial breakdown has 11 scenes. That's a bit too many for a short TikTok. Combine some or choose the most impactful ones.\n\n    *   Combine Scene 1 & 3 (Stressed founder introduces problem).\n    *   Combine Scene 2 with the intro part of Scene 1. Let's keep the Sorbonne/AI brain flashes quick within the intro.\n    *   Keep the 5 core points (Scenes 4-8) as distinct visuals, as they are the meat of the content.\n    *   Combine Scene 9 (fine) and Scene 10 (checklist) into one \"Here's the risk & solution\" scene.\n    *   Keep Scene 11 (Closing).\n\n    *New Scene List:*\n    1.  Intro/Hook: Stressed founder, cafe, laptop, Sorbonne/AI flash.\n    2.  Point 1: Documentation overwhelm.\n    3.  Point 2: Data governance/bias tracking.\n    4.  Point 3: Human oversight/explainability.\n    5.  Point 4 & 5: 3rd Party risk & Surprise audits (can combine thematically - external pressures).\n    6.  Consequences & Action: Fine amount + Checklist visual.\n    7.  Closing: Confident founder, Paris view.\n\n    This gives 7 scenes, fitting the 5-8 second pacing well.\n\n4.  **Flesh out Each Scene Prompt:** For each chosen scene, describe the key elements, characters, setting, colors, and mood, adhering to the \"no style description\" rule. Add details from the script's personalization (wine, baguette, etc.).\n\n    *   **Scene 1:** Young male founder, Sorbonne grad look (smart casual, maybe glasses), slightly stressed expression. Parisian cafe setting (red awning, small round table). Laptop open showing complex diagrams/code. A half-eaten baguette and a glass of red wine on the table. Warm, slightly muted morning/afternoon light. *Maybe add quick flashes:* Sorbonne building, stylized cartoon AI brain icon.\n    *   **Scene 2 (Docs):** Founder looking overwhelmed, buried under a mountain of scrolling cartoon documents/papers that look like complex math formulas mixed with EU flags. Papers are spilling off the table. Colors slightly chaotic, maybe blues and greys dominating the papers.\n    *   **Scene 3 (Data Gov):** Split screen or layered visual. One side shows abstract cartoon representations of diverse student icons (simple shapes/colors). The other side shows graphs with lines tracking bias metrics (one line going up, triggering a red alert symbol) and cryptographic hash symbols floating around data points. Techy blue and green background with pops of red for alerts.\n    *   **Scene 4 (Human Oversight):** A friendly cartoon teacher character looking at a screen showing the AI's decision process (simple flowchart or feature importance bars). The founder character points to an \"override\" button on the screen interface. A small, friendly robot icon represents the AI. Clear, educational color palette (light blues, greens, white).\n    *   **Scene 5 (External Pressures):** Founder character looking concerned. On one side, a cartoon hand offers a contract document with tiny hidden trap symbols (maybe tiny skulls or warning signs). On the other side, a cartoon inspector character (perhaps wearing a beret and trench coat playfully) shines a magnifying glass directly at the founder's laptop screen. Slightly more dramatic lighting, perhaps some shadows.\n    *   **Scene 6 (Consequences/Action):** A large cartoon bag of money with \"€35M\" clearly labeled, maybe looking menacing or heavy. Next to it, a bright, positive-looking checklist graphic with icons representing: [1] Official Stamp/Certificate (Conformity), [2] Brain/Lightbulb (Explainability), [3] Filing Cabinet/List (Registry). Contrasting colors - dark/red for the money bag, bright/hopeful for the checklist.\n    *   **Scene 7 (Closing):** Founder character now looking confident, smiling, giving a thumbs-up or raising a glass of wine in a \"cheers\". Background is a cheerful, sunny cartoon view of the Paris skyline with the Eiffel Tower prominent. Warm, optimistic colors. Maybe a final shot of cartoon escargots winking.\n\n5.  **Review and Refine:** Read through the prompts. Do they capture the essence of each script segment? Are they visually distinct? Is the tone right (mixing the seriousness of the topic with the cartoon style)? Is the personalization included where appropriate? (Yes: wine, baguette, Sorbonne hint, Paris backdrop). Ensure no style words like \"Pixar,\" \"Luca,\" \"cartoon\" are in the prompts themselves.\n\nThis structured process ensures all requirements are met and the prompts logically follow the script's narrative arc while providing clear visual direction for an AI image generator.",
        "Okay, let's create those image prompts for your Luca-inspired French AI Act explainer! We'll focus on content, color, and mood, letting the AI handle the specific cartoon style.\n\nHere are the prompts for the key scenes:\n\n**Scene 1 (0-6 seconds):**\n*   **Prompt:** A young man with dark, slightly messy hair and glasses (our founder), looking stressed, sits at a small round table outside a Parisian cafe with a red awning. On the table: an open laptop displaying complex code graphs, a half-eaten baguette, a small plate with cartoon escargot shells, and a glass of red wine. Morning light, warm tones but a slightly anxious mood on the character's face.\n\n**Scene 2 (6-12 seconds):**\n*   **Prompt:** The founder character looks overwhelmed, almost buried under a giant, teetering stack of scrolling documents labeled with EU flag symbols and complex mathematical formulas (∫, Σ, ∂). Papers spill onto the floor around him. Colors are slightly muted, blues and greys dominating the paper mountain, emphasizing the burden.\n\n**Scene 3 (12-18 seconds):**\n*   **Prompt:** A split-screen visual. Left side: Colorful, simple cartoon icons representing diverse students (different simple shapes/colors). Right side: A dynamic dashboard graph showing performance lines for different groups; one line dips low, triggering a flashing red alert symbol next to a \"Bias Detected!\" label. Techy blue background with bright data visualization colors.\n\n**Scene 4 (18-24 seconds):**\n*   **Prompt:** A friendly, slightly older cartoon character representing a teacher (perhaps wearing a beret) looks curiously at a transparent screen showing a simple flowchart of the AI's decision path for grading a quiz question. The founder character stands beside it, pointing helpfully at an 'Explain' button on the screen. Bright, clear, educational colors like light blues and greens.\n\n**Scene 5 (24-30 seconds):**\n*   **Prompt:** The founder character looks worriedly at two things simultaneously: On one side, a large, official-looking contract document being handed over by a shadowy cartoon figure, with tiny hidden trap symbols (like small warning signs) in the fine print. On the other side, a cartoon French *gendarme* character playfully peers through a magnifying glass directly at the founder's laptop screen. Slightly dramatic lighting with some shadows.\n\n**Scene 6 (30-36 seconds):**\n*   **Prompt:** A giant, cartoonish bag of money labeled \"€35M!\" sits ominously on one side. On the other side, a bright, positive-looking checklist appears with three simple icons: [1] An official stamp/certificate, [2] A glowing lightbulb inside a head silhouette, [3] A simple list/registry icon. Strong contrast between the dark/imposing money bag and the bright/hopeful checklist.\n\n**Scene 7 (36-42 seconds):**\n*   **Prompt:** The founder character, now looking confident and relieved, smiles and raises his glass of red wine in a toast. Behind him is a cheerful, sunny cartoon depiction of the Paris skyline, with a stylized Eiffel Tower prominent. Warm, optimistic lighting and bright colors. Maybe a tiny cartoon frog leg winks from a plate in the corner.",
      ],
    },
    {
      "role": "user",
      "parts": [
        "for the first scene produce a prompt for video generation model. The model will see the scene image (created from the prompt you wrote) and will make the character perfom the action. So produce the prompt for the action (or whatever you see suitable for the scene)",
      ],
    },
    {
      "role": "model",
      "parts": [
        "The user wants a *video* generation prompt for Scene 1.\nThis prompt needs to describe the *action* happening in the scene, building upon the static image described earlier.\nThe core elements of the scene are:\n- Founder character (stressed)\n- Parisian cafe setting\n- Laptop, baguette, escargots, wine on table\n\nThe action should reflect the initial stress and the hook \"can someone tell me what I'm supposed to do?\".\n\nAction ideas:\n1.  Character sighs deeply, runs a hand through hair, looks exasperatedly from laptop to the viewer/camera.\n2.  Character takes a stressed sip of wine, taps nervously on the laptop trackpad, looks around the cafe as if looking for help.\n3.  Character gestures vaguely towards the laptop screen with a look of confusion/overwhelm.\n\nLet's go with a combination of sighing, looking around, and maybe a small gesture towards the complex laptop screen, capturing that feeling of being lost and seeking guidance.",
        "Okay, here's a video generation prompt for Scene 1, assuming the AI model sees the static image you generated previously:\n\n**Video Generation Prompt for Scene 1:**\n\n\"The young man at the cafe table sighs deeply, running a hand through his messy hair. He glances nervously from his complex laptop screen towards the viewer (camera), then briefly looks around the cafe setting with a slightly lost expression, perhaps subtly gesturing towards the laptop with one hand as if asking 'What is this?!', before looking back towards the viewer with a stressed/pleading look.\"",
      ],
    },
    {
      "role": "user",
      "parts": [
        "now create a prompt for scene 2",
      ],
    },
    {
      "role": "model",
      "parts": [
        "The user wants a video generation prompt for Scene 2.\nThe static image prompt for Scene 2 was: \"The founder character looks overwhelmed, almost buried under a giant, teetering stack of scrolling documents labeled with EU flag symbols and complex mathematical formulas (∫, Σ, ∂). Papers spill onto the floor around him. Colors are slightly muted, blues and greys dominating the paper mountain, emphasizing the burden.\"\n\nThe video prompt needs to animate this static image, showing the founder's reaction and the dynamic nature of the overwhelming paperwork.\n\nAction Ideas:\n1.  The paper stack could grow or wobble precariously.\n2.  The founder could struggle against the papers, maybe try to push them away or look like he's sinking.\n3.  Papers could physically flutter down around him.\n4.  His expression should intensify from overwhelmed to slightly desperate.\n\nLet's combine these: The stack wobbles, papers flutter down, and the founder reacts with more physical struggle and facial expression.",
        "Okay, here's the video generation prompt for Scene 2, building on the static image of the founder buried in paperwork:\n\n**Video Generation Prompt for Scene 2:**\n\n\"The giant stack of documents surrounding the founder wobbles precariously. Loose papers continuously flutter down from the top, adding to the pile around him. The founder character looks up with wide, panicked eyes as the stack seems to press in on him. He makes a slight, futile pushing motion against the papers with his hands, his expression shifting from overwhelmed to near-desperation, looking trapped by the sheer volume.\"",
      ],
    },
    {
      "role": "user",
      "parts": [
        "produce prompts for remaining scenes 3-7",
      ],
    },
    {
      "role": "model",
      "parts": [
        "The user wants video generation prompts for scenes 3 through 7.\nEach prompt should describe the *action* that happens within the scene, assuming the AI model starts with the static image generated from the previous image prompts.\nThe goal is to make the static scene come alive with movement relevant to the voiceover/text overlay content for that part of the TikTok video.\n\n**Scene 3 Context:** Split screen, student icons, bias detection graph.\n**Scene 4 Context:** Teacher looking at explainable AI screen with founder.\n**Scene 5 Context:** Founder looking worried at contract and gendarme.\n**Scene 6 Context:** Money bag vs. checklist.\n**Scene 7 Context:** Founder relieved, toasting in front of Paris skyline.\n\n**Plan:**\n*   **Scene 3:** Animate the graph, make the alert flash, show slight movement in student icons.\n*   **Scene 4:** Make the teacher nod thoughtfully, founder points animatedly, flowchart elements highlight briefly.\n*   **Scene 5:** Show the founder's eyes darting between the contract and the gendarme, maybe a subtle gulp or nervous hand movement. Make the magnifying glass move slightly.\n*   **Scene 6:** Have the checklist items tick off animatedly, maybe the money bag looms slightly larger or casts a shadow.\n*   **Scene 7:** Animate the toast gesture, maybe a slight sparkle on the wine glass, subtle movement in the background (e.g., twinkle on Eiffel Tower).",
        "Okay, here are the video generation prompts for the remaining scenes (3-7):\n\n**Video Generation Prompt for Scene 3:**\n\"On the split-screen: The performance lines on the dashboard graph animate, showing the dip clearly. The red 'Bias Detected!' alert symbol pulses and flashes insistently. On the left side, the simple student icons subtly shift or wiggle slightly, representing the diverse group being analyzed.\"\n\n**Video Generation Prompt for Scene 4:**\n\"The teacher character nods slowly, looking intently at the transparent screen. The founder character animates his pointing gesture, tracing the simple flowchart path on the screen with his finger. As he points, elements of the flowchart briefly glow or highlight to emphasize the explanation.\"\n\n**Video Generation Prompt for Scene 5:**\n\"The founder character's eyes dart nervously back and forth between the shadowy figure holding the contract and the peering gendarme. He might subtly shrink back or wring his hands slightly. The gendarme's magnifying glass moves slightly, scanning across the laptop screen. The tiny trap symbols on the contract might briefly flash or shimmer.\"\n\n**Video Generation Prompt for Scene 6:**\n\"The three checklist icons animate sequentially, appearing with a satisfying 'check' motion or sound effect simulation. As the checklist completes, it might subtly grow brighter or larger, while the ominous money bag on the other side casts a slightly deeper shadow or shrinks subtly in perceived importance.\"\n\n**Video Generation Prompt for Scene 7:**\n\"The founder character smoothly raises his wine glass towards the camera in a cheerful 'cheers' motion, a broad, confident smile on his face. The glass catches a glint of light. Behind him, the Paris skyline has subtle movement, perhaps a sparkle effect on the Eiffel Tower or faint wisps of clouds drifting by. The tiny frog leg on the plate gives a quick, subtle wink.\"",
      ],
    },
  ]
)

response = chat_session.send_message("INSERT_INPUT_HERE")

print(response.text)